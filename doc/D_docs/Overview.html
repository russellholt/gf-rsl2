<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN"><HTML><HEAD>	<META NAME="GENERATOR" Content="Symantec Visual Page 1.0.2">	<META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=iso-8859-1">	<TITLE>D_Overview</TITLE></HEAD><BODY BGCOLOR="#FFFFFF"><CENTER><P><A HREF="DestinyC++.html"><FONT SIZE="2">Destiny C++</FONT></A><B> </B>| <FONTSIZE="2">Overview</FONT><A HREF="DestinyC++.html#TOC-Standard"><FONT SIZE="2"><BR></FONT></A><A HREF="Objects.html"><FONT SIZE="2">Class and Object Design</FONT></A><B></B>|<B> </B><A HREF="rsl2d.html"><FONT SIZE="2">rsl2D</FONT></A><B> </B>|<B> </B><AHREF="R_D.html"><FONT SIZE="2">R_D</FONT></A> | <A HREF="Dfaq.html"><FONT SIZE="2">Martin'sQuestions</FONT></A> <HR></P></CENTER><H2>The Destiny C++ Standard</H2><P><FONT SIZE="1">August 27, 1998<BR>class digram finally updated Nov 1998</FONT></P><P><I>In Summary</I><BR>The Destiny C++ standard is a way for arbitrarily complex C++ to work as seamlesslyas possible with, yet be independent of, RSL - so that RSL and C++ are as complementaryas possible and work together efficiently.</P><P><B>The Big Picture</B></P><BLOCKQUOTE>	<P><FONT SIZE="2">Destiny's abstract design layer concept will allow pattern-oriented	programming and visual representation of actual implementation in running systems,	not just design. This will collapse and significantly speed up the software development	and maintenance process. There are many practical barriers to this, however; this	proposal is one step toward breaking them down. It is the approach taken for Granite	Foundation 2.5, and will be the Foundation for version 3.</FONT></P></BLOCKQUOTE><P><B>The Current Problem</B></P><BLOCKQUOTE>	<P>C++ Resources are difficult to write in Foundation 2.2. There is no easy way to	connect RSL and C++ beyond the most rudimentary needs. It is much easier to write	RSL than C++, but RSL requires Foundation. We can't take our objects outside of Foundation	because they are too tightly integrated.</P>	<P>Significant benefits can be realized from having object interrelationships represented	or stored in a way that RSL understands. Notably, the <I>abstract design layer</I>	is not possible without such reflective abilities. But to date it has not been clear	how to do this for objects, or Resources, written &quot;entirely&quot; in C++.</P>	<UL>	<LI><A HREF="DestinyC++ProblemDetails.html"><I><B>problem details</B></I></A>	</UL></BLOCKQUOTE><P><B>The Solution</B></P><UL>	<LI>A standard for writing C++ at Destiny, including a superclass library to enable	seamless integration into, but no dependence on, Foundation.	<LI>a set of changes to Granite Foundation which will allow the above standard classes	to be used within Foundation.</UL><BLOCKQUOTE>	<P>This strategy may or may not form the basis for the implementation of the third	version of a system not unlike Granite Foundation. oh no, no, no! heh, heh, heh heh!</P></BLOCKQUOTE><P><B>Relevant Externalities</B></P><UL>	<LI><A HREF="http://laputa.isdn.uiuc.edu/metamorphosis/metamorphosis.html">Evolution,	Architecture, Metamorphosis</A>	<LI></UL><H2><A NAME="TOC-Standard"></A>The Standard</H2><BLOCKQUOTE>	<P><FONT SIZE="2">Note: when I say <I>an X class</I>, I mean a class which is an	X, that is, a class derived from X. This is like saying <I>an animal</I>.</FONT></P></BLOCKQUOTE><CENTER><P><TABLE BORDER="0" CELLPADDING="3" CELLSPACING="0" WIDTH="80%">	<TR>		<TD WIDTH="80%">			<P><A HREF="#Overview"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="BOTTOM"			BORDER="0"><FONT SIZE="4"><B>Overview</B></FONT></A> (this page)			<OL Type="I">				<OL Type="a">					<LI><A HREF="#inheritance hierarchy">inheritance diagram</A>					<LI><A HREF="#DObject: Implementation classes">DObject: Implementation classes</A>					<LI><A HREF="#DRef: Reference classes">DRef: Reference classes</A>					<LI><A HREF="#Composites">Composites</A>				</OL>			</OL>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="rsl2d.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"><FONT SIZE="4"><B>rsl2D</B></FONT></A><FONT COLOR="#FF0000"></FONT></P>			<BLOCKQUOTE>			<P><B>rsl2D </B>and <B>autodoc</B>			</BLOCKQUOTE>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="D-releases.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"><FONT SIZE="4"><B>D Releases</B></FONT></A>			<BLOCKQUOTE>			<P>Prototype release notes			</BLOCKQUOTE>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="D-releases.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"></A><A HREF="dReference.html"><FONT SIZE="4"><B>Reference</B></FONT></A></P>			<BLOCKQUOTE>			<P>A class browser for detailed class documentation.			</BLOCKQUOTE>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="Dfaq.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"><FONT SIZE="4"><B>Martin's Questions, Russell's Answers</B></FONT></A>			<BLOCKQUOTE>			<P>They're not quite frequently asked...			</BLOCKQUOTE>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="Objects.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"><FONT SIZE="4"><B>Class and Object Design</B></FONT></A><FONT COLOR="#FF0000"><B>			</B>updated</FONT> 4 Sept			<OL Type="a">				<OL Type="a">					<LI>Object Basics					<OL>						<LI>Composites					</OL>					<OL Type="a">						<LI>Method invocation					</OL>					<LI><A HREF="Objects.html#Collections">Collections</A>					<UL>						<LI>insertion						<LI>deletion						<LI>iteration						<LI>Sorting						<LI>Writing new collections					</UL>					<LI>Streaming				</OL>			</OL>		</TD>	</TR>	<TR>		<TD WIDTH="80%">			<P><A HREF="theSystem.html"><IMG SRC="medreg.gif" WIDTH="22" HEIGHT="19" ALIGN="MIDDLE"			BORDER="0"><FONT SIZE="4"><B>R_D</B></FONT></A>			<BLOCKQUOTE>			<P>Details on the bridge between Foundation and the D system.			</BLOCKQUOTE>		</TD>	</TR></TABLE></CENTER><H3><A NAME="Overview"></A>Overview</H3><P>We would like to be able to write C++ which can work seamlessly along side ofRSL, and we'd like to be able to use both languages where they are most appropriate.The power and dynamic flexibility of RSL comes partly from its fluid, reflectivenature. An object to RSL is an active independent entity, whose data storage is anassociative dictionary of instance variable names to objects. RSL can manipulateobjects in ways not possible in compiled languages, and so fitting C++ objects intothis model can be a challenge.</P><BLOCKQUOTE>	<P>The central principle of this standard is:</P></BLOCKQUOTE><UL>	<UL>		<LI><B>In C++, use objects that can be dealt with by <I>both</I> RSL and C++.</B>	</UL></UL><H3></H3><P>The standard defines a set of classes that form the basis for all implementation.There are actually two classes for each &quot;class&quot;; the system relies on theidea of strongly-typed smart pointer classes (references) and their companion implementationclasses.</P><P><A NAME="inheritance hierarchy"></A>The illustration below is the D class diagram.This is not a normal UML object model; for instance, Collection is not a class. Thereare <I>five</I> classes that compose the idea of Collection: DR_Collection, DO_Collection,DOC_Collection, DR_Enumerator, DO_Enumerator, each with separate ancestry. Illustratingevery such class is not only visually confusing, but it shows few global patterns.<I>See </I><A HREF="../parallel/parallel_diagrams.html"><I>diagramming parallel classhierarchies</I></A><I> for more detail on this particular problem of scale.</I></P><CENTER><P><IMG SRC="d-triangle-hierarchy.gif" WIDTH="737" HEIGHT="531" ALIGN="BOTTOM" BORDER="0"></P></CENTER><P><H4><A NAME="DObject: Implementation classes"></A>DO_Object: Implementation classes</H4><UL>	<LI>are the interesting classes - the actual implementation. Most implementation	discussion centers around DObject class design.	<LI>are each classified as	<UL>		<LI>atomic, such as String (DO_String),		<LI>collection, such as List (DO_List), or		<LI>composite	</UL></UL><H4><A NAME="DRef: Reference classes"></A>DR_Object: Reference classes</H4><UL>	<LI>are &quot;smart&quot; pointers to DO_Objects	<LI>manage DO_Object memory by instantiating and recycling	<LI>are strongly typed just as C++ pointers are	<LI>are used <I>only by value or reference (C++ reference, e.g. </I><TT>const DR_String&amp;</TT><I>),	<B>never by pointer</B></I></UL><P><H4><A NAME="Composites"></A>Composite objects</H4><P>A composite object is one which is composed of other objects, that is, it hasinstance variables. Most C++ implementation using this system will fall under DOComposite,with appropriate counterpart DRef classes. The DOComposite superclass provides facilitiesthat will allow these objects to be used from within Granite Foundation with as muchflexibility as if they were pure RSL classes - far more useful than today's Resources.</P><P><HR></P><CENTER><P><A HREF="DestinyC++.html"><FONT SIZE="2">Destiny C++</FONT></A><B> </B>| <FONTSIZE="2">Overview</FONT><A HREF="DestinyC++.html#TOC-Standard"><FONT SIZE="2"><BR></FONT></A><A HREF="Objects.html"><FONT SIZE="2">Class and Object Design</FONT></A><B></B>|<B> </B><A HREF="rsl2d.html"><FONT SIZE="2">rsl2D</FONT></A><B> </B>|<B> </B><AHREF="R_D.html"><FONT SIZE="2">R_D</FONT></A> | <A HREF="Dfaq.html"><FONT SIZE="2">Martin'sQuestions</FONT></A></P><P><HR></CENTER></BODY></HTML>